# ============================================
# Mainnet Production Configuration
# ============================================
# IMPORTANT: This is a template for production deployment
# Sensitive data (wallets, database credentials) should be in config.toml
# NEVER commit real credentials to version control!

is_dev_env = false
app_data_path = "data"

# ============================================
# Logger Configuration
# ============================================
[logger]
level = "rust_ot_node=info"  # Production log level
format = "json"              # Structured JSON for log aggregation

# ============================================
# HTTP API Configuration
# ============================================
[http_api]
enabled = true # Set to false to disable the HTTP API server
port = 8900

# Rate limiter configuration
[http_api.rate_limiter]
enabled = true
time_window_seconds = 60 # Time window for rate limiting
max_requests = 10        # Maximum requests per time window
# burst_size = 10          # Optional: burst capacity (defaults to max_requests)

# Authentication configuration
[http_api.auth]
enabled = true
ip_whitelist = ["127.0.0.1", "::1"] # Only localhost allowed by default

# ============================================
# Network Manager Configuration
# ============================================
[managers.network]
port = 9000
external_ip = "178.194.72.150"

# Production bootstrap nodes (OriginTrail mainnet)
bootstrap = [
    "/ip4/157.230.96.194/tcp/9000/p2p/QmZFcns6eGUosD96beHyevKu1jGJ1bA56Reg2f1J4q59Jt",
    "/ip4/18.132.135.102/tcp/9000/p2p/QmemqyXyvrTAm7PwrcTcFiEEFx69efdR92GSZ1oQprbdja",
]

# ============================================
# Repository Manager Configuration
# ============================================
[managers.repository]
# Configure these values in config.toml:
# - database
# - host
# - user
# - password
port = 3306
max_connections = 120
min_connections = 1

# ============================================
# Validation Manager Configuration
# ============================================
[managers.validation]
# Validation settings here

# ============================================
# Triple Store Manager Configuration
# ============================================
[managers.triple_store]
backend = "oxigraph" # Embedded Rust-native backend, no external service needed
# data_path is automatically set to "{app_data_path}/triple-store"

[managers.triple_store.timeouts]
query_ms = 60000
insert_ms = 300000
ask_ms = 10000

# ============================================
# Blockchain Configuration
# ============================================
# Configure your blockchain networks in config.toml
# See comments below for example structure
#
# Supported chain types: Hardhat, Gnosis, NeuroWeb, Base
#
# Example blockchain configuration (put in config.toml):
#
# [[managers.blockchain]]
# [managers.blockchain.Gnosis]
# blockchain_id = "gnosis:100"
# hub_contract_address = "0x882D0BF07F956b1b94BBfe9E77F47c6fc7D4EC8f"
# rpc_endpoints = ["wss://your-rpc-endpoint"]
# gas_price_oracle_url = "https://gnosis.blockscout.com/api/v1/gas-price-oracle"
# max_rpc_requests_per_second = 25  # Optional: rate limit RPC calls (set based on your provider's limits)
# operator_fee = 0
# evm_operational_wallet_address = "0x..."
# evm_operational_wallet_private_key = "your-private-key"
# evm_management_wallet_address = "0x..."
# node_name = "YourNodeName"
