[workspace]
members = [
    ".",
    "./managers/network",
    "./managers/repository",
    "./managers/blockchain",
    "./managers/validation",
    "./tools/local_network",
    "./rdf-canonize",
    "./scripts",
]

resolver = "2"

[package]
name = "rust-ot-node"
version = "0.1.0"
edition = "2024"

[workspace.dependencies]
# Internal crates
blockchain = { path = "./managers/blockchain" }
network = { path = "./managers/network" }
repository = { path = "./managers/repository" }
validation = { path = "./managers/validation" }
rdf-canonize = { path = "./rdf-canonize" }

# Common dependencies shared across workspace
tokio = { version = "1.49.0", features = ["full"] }
serde = { version = "1.0.228", features = ["derive"] }
serde_json = "1.0.149"
tracing = "0.1.44"
thiserror = "2.0.17"
chrono = "0.4.31"
uuid = { version = "1.19.0", features = ["serde", "v4", "v5"] }
async-trait = "0.1.89"

# Other shared dependencies
clap = "4.5.54"
ethers = { version = "2.0.14", features = ["openssl", "ws"] }
hex = "0.4.3"
sha2 = "0.10.9"

# Main binary specific (can be referenced by others if needed)
futures = "0.3.31"
tracing-subscriber = "0.3.22"
axum = "0.8.8"
tower = "0.5.2"
tower-http = { version = "0.6.8", features = ["full"] }
hyper = "1.8.1"
dotenvy = "0.15.7"
validator = "0.20.0"
validator_derive = "0.20.0"
figment = { version = "0.10", features = ["toml", "env"] }

[dependencies]
blockchain.workspace = true
network.workspace = true
repository.workspace = true
validation.workspace = true
rdf-canonize.workspace = true
tokio.workspace = true
futures.workspace = true
tracing.workspace = true
tracing-subscriber.workspace = true
serde.workspace = true
serde_json.workspace = true
uuid.workspace = true
axum.workspace = true
tower.workspace = true
tower-http.workspace = true
hyper.workspace = true
chrono.workspace = true
dotenvy.workspace = true
clap.workspace = true
validator.workspace = true
validator_derive.workspace = true
figment.workspace = true
thiserror.workspace = true
async-trait.workspace = true

[dev-dependencies]
tempfile = "3.24.0"
